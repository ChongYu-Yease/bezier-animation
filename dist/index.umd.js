!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).bezierAnimation={})}(this,(function(e){"use strict";var t=function(){function e(e){this.config={sourceClassName:"",targetClassName:"",moveClassName:"",radian:.004,time:1e3,multiNode:!1},this.timer=null,this.b=0,this.radian=.004,this.time=0,this.sourceNode=null,this.sourceNodeX=null,this.sourceNodeY=null,this.targetNode=null,this.targetNodeX=null,this.targetNodeY=null,this.moveNode=null,this.diffx=null,this.diffy=null,this.speedx=null,this.config=e||{sourceClassName:"",targetClassName:"",moveClassName:"",radian:.004,time:1e3},this.sourceNode=this.getComponentFunction(this.config.sourceClassName)||null,this.targetNode=this.getComponentFunction(this.config.targetClassName)||null,this.moveNode=this.getComponentFunction(this.config.moveClassName)||null,this.radian=this.config.radian||.004,this.time=this.config.time||1e3,this.sourceNodeX=this.sourceNode.getBoundingClientRect().left,this.sourceNodeY=this.sourceNode.getBoundingClientRect().top,this.targetNodeX=this.targetNode.getBoundingClientRect().left,this.targetNodeY=this.targetNode.getBoundingClientRect().top,this.diffx=this.targetNodeX-this.sourceNodeX,this.diffy=this.targetNodeY-this.sourceNodeY,this.speedx=this.diffx/this.time,this.b=(this.diffy-this.radian*this.diffx*this.diffx)/this.diffx,this.moveNode.style.position="absolute",this.moveNode.style.left=this.sourceNodeX+"px",this.moveNode.style.top=this.sourceNodeY+"px"}return e.prototype.getComponentFunction=function(e){return document.querySelector(e)},e.prototype.handleMarkSureDomMoveStyle=function(){var e="position",t=document.createElement("input");if("placeholder"in t){["","ms","moz","webkit"].forEach((function(o){var i=o+(o?"T":"t")+"ransform";i in t.style&&(e=i)}))}return e},e.prototype.move=function(){var e=this;if(!this.timer){var t,o=(new Date).getTime(),i=this.handleMarkSureDomMoveStyle();this.moveNode.style.left=this.sourceNodeX+"px",this.moveNode.style.top=this.sourceNodeY+"px",this.moveNode.style[i]="translate(0px,0px)",(t=document.createElement("div")).style.position="absolute",t.style.zIndex="99",t.style.top="0px",t.style.bottom="0px",t.style.right="0px",t.style.left="0px",t.appendChild(this.moveNode),document.body.appendChild(t),this.timer=window.setInterval((function(){var s=(new Date).getTime();if(s-o>e.time)return"function"==typeof e.config.callback&&e.config.callback(),window.clearInterval(e.timer),e.timer=null,e.moveNode.style.left=e.targetNodeX+"px",e.moveNode.style.top=e.targetNodeY+"px",t.removeChild(e.moveNode),void document.body.removeChild(t);var n=e.speedx*(s-o),l=e.radian*n*n+e.b*n;"position"===i?(e.moveNode.style.left=n+e.sourceNodeX+"px",e.moveNode.style.top=l+e.sourceNodeY+"px"):window.requestAnimationFrame?window.requestAnimationFrame((function(){e.moveNode.style[i]="translate("+n+"px,"+l+"px)"})):e.moveNode.style[i]="translate("+n+"px,"+l+"px)"}),15)}},e}();e.Bezier=t,Object.defineProperty(e,"__esModule",{value:!0})}));
